---
import { css } from '@styled-system/css'
import PhotoGalleryItem from '@components/PhotoGalleryItem.astro'

import type { CollectionEntry } from 'astro:content'
interface Props {
  photos: CollectionEntry<'photos'>[]
}

const { photos } = Astro.props
---

<div
  class={css({
    zIndex: '1', // This puts it above the grain effect
  })}
>
  <ul
    class={css({
      maxWidth: '5xl',
      marginInline: 'auto',
      marginBlock: 0,
      display: 'flex',
      padding: '2',
      gap: '2',
      backgroundColor: 'stark.background',
      width: '100%',
      overflowX: 'auto',
      overflowY: 'hidden',
      WebkitOverflowScrolling: 'touch',

      sm: {
        borderRadius: 'bento',
        overflow: 'visible',
        display: 'grid',
        padding: 'calc({spacing.bento.padding} * 2)',
        gap: 'calc({spacing.bento.padding} * 2)',
        gridTemplateColumns: 'repeat(auto-fill, minmax(12rem, 1fr))',
      },
    })}
  >
    {
      photos.map((photo, i) => (
        <PhotoGalleryItem photo={photo} priority={i < 2} />
      ))
    }
  </ul>
</div>
