---
import BlogPostHeader from "../components/BlogPostHeader.astro"
---

<article>
  <BlogPostHeader class="blog-post-grid" >
    <slot name="header" />
  </BlogPostHeader>
  <div class="blog-post-grid">
    <slot name="meta">
  </div>
  <main class="blog-post-grid">
    <slot />
  </main>
</article>

<style lang="scss">
  @import '../styles/mixins.scss';

  @layer layout {
    article {
      display: grid;
      row-gap: calc(var(--fluid-bento-gap) * 2);
    }

    .blog-post-grid {
      display: grid;
      align-items: start;
      column-gap: var(--fluid-bento-padding);
      --column: text;
      
      :global(> *) {
        grid-column: var(--column, text);
      }

      
      grid-template-columns: 
        [full-width-start breakout-start]
          1fr
            [text-start aside-start header-content-start]
              minmax(0, var(--layout-size-2))
            [text-end aside-end header-content-end]
          1fr
        [breakout-end full-width-end];

      @include breakpoint-medium {
        grid-template-columns: 
          [full-width-start breakout-start]
            1fr
              [text-start header-content-start]
                minmax(0, var(--layout-size-2))
              [text-end]
            1fr
          [breakout-end aside-start]
            minmax(0, var(--space-content-1))
          [header-content-end aside-end]
            1fr
          [full-width-end];
      }
    }
  }
</style>
